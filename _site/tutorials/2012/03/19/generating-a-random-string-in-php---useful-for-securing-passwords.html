<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Generating A Random String in PHP - Useful For Securing Passwords</title><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/css/syntax.css"></head><body><header class="header"><nav class="header__nav"><a class="nav__link" href="/" title="Posts"><i class="i-home nav__icon"></i> <span class="nav__label">Posts</span></a> <a class="nav__link" href="http://labs.benholland.me/" title="Labs"><i class="i-testtube nav__icon"></i> <span class="nav__label">Labs</span></a> <a class="nav__link" href="http://github.com/hollandben" title="GitHub"><i class="i-github nav__icon"></i> <span class="nav__label">GitHub</span></a> <a class="nav__link" href="http://twitter.com/hollandben" title="Twitter"><i class="i-twitter nav__icon"></i> <span class="nav__label">Twitter</span></a></nav><div class="header__title"><a href="/"><h1>Ben Holland</h1><h2>Web Developer and JavaScript Nerd</h2></a></div></header><main class="content"><div class="post post--full"><h1 class="post__title">Generating A Random String in PHP - Useful For Securing Passwords</h1><p class="meta">19 Mar 2012</p><div class="post__body"><p>A lot of projects I&#39;ve worked on recently have required unique ids or numbers being entered into a database. I&#39;ve been working with this function for a while now and it&#39;s proved very useful, so thought I would share it with everyone...</p><div class="highlight"><pre><code class="php language-php" data-lang="php"><span class="x">### Generating a Random Number</span>

<span class="x">function genRandomString($len)  {</span>
<span class="x">    $str = &quot;&quot;;</span>
<span class="x">    $char = &quot;012346789&quot;;</span>
<span class="x">    for ($i=0; $i&lt;$len; $i++) {</span>
<span class="x">        $str .= substr($char, mt_rand(0, $len-1), 1);</span>
<span class="x">    }</span>
<span class="x">    return $str;</span>
<span class="x">}</span>
</code></pre></div><p>This function creates a for loop based on the length variable <code>$len</code> we pass it. In this loop, a new number is added to our <code>$str</code> variable by randomly selecting a number from our $char string. This string can contain whatever characters you want to use. After the loop has finished, our newly generated string is returned.</p><div class="highlight"><pre><code class="php language-php" data-lang="php"><span class="x">### Generating a Random String</span>

<span class="x">function genRandomString($len) {</span>
<span class="x">    $str = &quot;&quot;;</span>
<span class="x">    $char = &quot;012346789abcedfghijklmnopqrstuvwxyzABCEDFGHIJKLMNOPQRSTUVWXYZ&quot;;</span>
<span class="x">    for ($i=0; $i&lt;$len; $i++) {</span>
<span class="x">        $str .= substr($char, mt_rand(0, $len-1), 1);</span>
<span class="x">    }</span>
<span class="x">    return $str;</span>
<span class="x">}</span>
</code></pre></div><p>This function is the same as before, except I&#39;ve included a lot of extra characters. If you are using this to store unique ids, beware that there is the slight possibility that the same string will be generated.</p><p>This is exceptionally rare though. If we use the function above and pass it a length of 15 characters, then the chances of the same string coming out is 1 in 7.69x1026. So not much of a chance. The odds of it happening for the number in the first function, with a length of 8, is 1 in 10 million, so again, not much of chance.</p><p>This has come in useful for me quite a lot, so let me know if you find any awesome uses for it.</p></div></div></main></body></html>